<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Front End</h1>
    <h3>List All Users</h3>
    <div id="list-users">

    </div>
    <h3>View Users</h3>
    <div id="view-users">

    </div>
    
    <script>
        let serverUrl = "http://localhost:5000/api";

        function viewUsers(userId){
            let apiUrl = serverUrl + "/users/" + userId;
        console.log(apiUrl);

        fetch(apiUrl).then(res => res.json() ).then ( res =>{
            console.log(res);
        document.querySelector("#view-users").innerHTML = JSON.stringify(res);
        });
        }
        

        function listUsers(){
            let apiUrl = serverUrl + "/users";
        console.log(apiUrl);

        fetch('http://localhost:5000/api/users').then(res => res.json() ).then ( res =>{
            console.log(res);
            let content = "";
            for(let obj of res){
                content += JSON.stringify(res);
                content += `<button type="button" onClick="viewUsers(${obj.id})">VIEW</button>`;
                content += "</br>"
            }
        document.querySelector("#list-users").innerHTML = content;
        });
        }

        listUsers();
        viewUsers(2);
    </script>
</body>
</html>